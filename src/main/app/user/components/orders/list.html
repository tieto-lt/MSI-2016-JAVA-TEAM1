<div>
    <div>
        <div class="alert-order-list alert alert-info" ng-show="$ctrl.message"  align="center">
            <strong>You have not submitted any orders yet!</strong>
        </div>
        <a class="btn btn-lg btn-raised btn-primary" ui-sref="root.orderComponent"> Place a new order </a>
        <uib-accordion close-others="oneAtATime" >
            <div uib-accordion-group class="panel-default" style="width: 680px; border:0px" is-disabled="true" >
                <uib-accordion-heading>
                    <div  class="list_header">
                        <ul >
                            <li>No.</li>
                            <li>Name</li>
                            <li>Submission Date</li>
                            <li>Status</li>
                        </ul>
                    </div>
                </uib-accordion-heading>
            </div>
            <div uib-accordion-group class="panel-default" style="width: 680px;  border:0px" is-open="status.open" ng-click="$ctrl.getResults(order.id)" ng-repeat="order in $ctrl.orders " >
                <uib-accordion-heading >
                    <div  class="list_header">
                        <ul>
                            <li>{{$index+1}}</li>
                            <li>{{order.missionName}}</li>
                            <li>{{order.submissionDate | date:'yyyy.MM.dd'}}</li>
                            <li>{{order.status}}</li>
                        </ul>
                    </div>
                    <i class="pull-right glyphicon" uib-popover="Show/Hide Resluts" popover-trigger="'mouseenter'" uib-popover="Show / Hide Results" popover-trigger="'mouseenter'"  ng-class="{'glyphicon-chevron-up ' : status.open, 'glyphicon-chevron-down': !status.open}"></i>
                </uib-accordion-heading>
                <div  class="customer_details"  style="width: 650px;border: 0px">
                    <h2 align="center" style="background: #149286;color: white;margin:0px" >Personal information</h2>
                    <div class="Info" style="background: #eee;padding:20px">
                    <table align="center">
                        <tr>
                            <td>Name:</td>
                            <td>{{order.fullName}}</td>
                        </tr>
                        <tr>
                            <td>Name:</td>
                            <td>{{order.fullName}}</td>
                        </tr>
                        <tr>
                            <td>Email: </td>
                            <td>{{order.email}}</td>
                        </tr>
                        <tr>
                            <td>Phone: </td>
                            <td>{{order.phone}}</td>
                        </tr>
                        <tr>
                            <td>Execution date: </td>
                            <td>{{$ctrl.result.executionDate | date:'yyyy.MM.dd'}}</td>
                        </tr>
                        <tr>
                            <td>Details: </td>
                            <td>{{order.details}}</td>
                        </tr>
                    </table>
                    </div>
                    <h2 align="center" style="background: #149286;color: white; margin:0px">Map</h2>
                    <div>
                        <div class="container-fluid">
                            <div class="row" style="width: 650px; height: 490px;background:#eee">
                                <div class="col-lg-6"  style="background:#eee">
                                    <div class="login_box3">
                                        <svg width="298" height="418"  style="background-color:white">
                                        <circle cx="130" cy="135" r="10" stroke="#928f8f"stroke-width="3" fill="#009688" />

                                        <rect  x="180" y="215" rx=10 ry=10 width="35" height="35"
                                              style="fill:#009688;stroke:#676767;stroke-width:5" />
                                        <text x="130" y="200" font-family="sans-serif" font-size="15px">Starting point</text>

                                        <rect  x="215" y="70" rx="10" ry="10" width="35" height="35"
                                              style="fill:{{$ctrl.all[0].color}};stroke:#676767;stroke-width:5" />
                                        <text x="200" y="150" font-family="sans-serif" font-size="15px" >Object nr.1</text>

                                        <rect  x="20" y="140" rx="10" ry="10" width="35" height="35"
                                              style="fill:{{$ctrl.all[1].color}};stroke:#676767;stroke-width:5" />
                                        <text x="0" y="220" font-family="sans-serif" font-size="15px">Object nr.2</text>

                                        <rect  x="20" y="5" rx="10" ry="10" width="35" height="35"
                                              style="fill:{{$ctrl.all[2].color}};stroke:#676767;stroke-width:5" />
                                        <text x="0" y="85" font-family="sans-serif" font-size="15px" >Object nr.3</text>

                                        <rect x="80" y="285" rx="10" ry="10"width="35" height="35"
                                              style="fill:{{$ctrl.all[3].color}};stroke:#676767;stroke-width:5" />
                                        <text x="60" y="365" font-family="sans-serif" font-size="15px" >Object nr.4</text>
                                    </svg>
                                    </div>
                                </div>
                                <div class="myTable1">
                                <div class="col-lg-6"  style="background-color:#eee; height:200px" >
                                    <table class = "table" align="center" width="300" style="background:white;margin-top: 30px">
                                        <thead>
                                        <tr>
                                            <th align="center">Object</th>
                                            <th align="center">Camera</th>
                                        </tr>
                                        </thead>
                                        <tr ng-repeat = "item in order.mapItems">
                                            <td align="center">{{item.name}}</td>
                                            <td align="center">{{item.cameraPosition}}</td>
                                        </tr>
                                    </table>
                                </div>
                                </div>
                            </div>
                        </div>
                    </div>
                    </div>


                <h2 align="center" style="background: #149286;color: white;margin:0px">Outcomes</h2>
                <h3 align="center"></h3>
                    <div id="slides_control">
                            <div uib-carousel active="$ctrl.activeSlide"  no-wrap="noWrapSlides">
                                <div uib-slide ng-repeat="image in $ctrl.result.images track by $index" index="$index">
                                    <img ng-src="data:image/png;base64,{{image.imageBase64}}">
                                </div>
                            </div>
                    </div>
                <h3 align="center"></h3>
                <div >
                <video width="640" height="365"
                       http-src="{{$ctrl.videoUrl}}"
                       type="video/mp4"
                       controls>
                </video>
                </div>
                <div align="center">
                    <button align="center"class="btn btn-raised btn-primary"><a href="{{$ctrl.videoUrl}}" style="color:white" download>Download video</a></button>
                </div>
                </div>
        </uib-accordion>
    </div>
</div>

