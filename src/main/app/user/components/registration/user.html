<div class="msi-registration-form">
    <div class="row">
        <div class="panel panel-primary">
            <div class="panel-body">
                <form name="userForm" ng-submit="submitForm()" novalidate>
                    <div class="form-group">
                        <h2>Create new user</h2>
                    </div>

                    <div class="form-group label-floating" ng-class="{ 'has-error' : userForm.username.$invalid && userForm.username.$dirty &&
                        userForm.username.$error.minlength && userForm.username.$error.pattern}">
                        <label for="username" class="control-label">Username <span style="color:red;">*</span></label>
                        <input ng-pattern="/^\S*$/" type="text" name="username" class="form-control" ng-model="$ctrl.user.username"  ng-minlength="5" id="username" required>
                        <small><p  style="color:red" ng-show="userForm.username.$error.minlength && !userForm.username.$pristine">Username is too short.</p></small>
                        <small><p  style="color:red" ng-show="userForm.username.$error.pattern && !userForm.username.$pristine">Please enter a valid user name. No spaces are allowed </p></small>
                    </div>

                    <div class="form-group label-floating" ng-class="{ 'has-error' : userForm.name.$invalid && userForm.name.$dirty }">
                        <label for="fullname" class="control-label">Full name <span style="color:red;">*</span></label>
                        <input id="fullname" type="text" name="name" class="form-control" ng-model="$ctrl.user.name" ng-minlength="2" ng-maxlength="60" required>
                        <small><p style="color:red" ng-show="userForm.name.$invalid && !userForm.name.$pristine" >You name must consist from 2 to 60 characters.</p></small>
                    </div>

                    <div class="form-group label-floating" ng-class="{ 'has-error' : userForm.email.$invalid && userForm.email.$dirty }">
                        <label for="email" class="control-label">Email <span style="color:red;">*</span></label>
                        <input type="email" id="email" name="email" class="form-control" ng-model="$ctrl.user.email" ng-maxlength="60" required>
                        <small><p style="color:red" ng-show="userForm.email.$invalid && !userForm.email.$pristine">Enter a valid email.</p></small>
                    </div>

                    <div class="form-group label-floating" ng-class="{ 'has-error' : userForm.phone.$invalid && userForm.phone.$dirty }">
                        <label for="phone" class="control-label">Phone <span style="color:red;">*</span></label>
                        <input id="phone" type="text" class="form-control" ng-pattern="/^(\+370) *(\d{8})$/" name="phone"  ng-model="$ctrl.user.phone" required>
                        <small><p style="color:red" ng-show="userForm.phone.$invalid && !userForm.phone.$pristine">Enter a valid phone number.</p></small>
                    </div>

                    <div class="form-group label-floating"  ng-class="{ 'has-error' : userForm.password.$invalid && userForm.password.$dirty }">
                        <label for="password1" class="control-label">Password <span style="color:red;">*</span></label>
                        <input id="password1"  class="form-control" name="password" type="password" ng-minlength="6" ng-maxlength="25"  ng-model="$ctrl.user.password" required>
                        <small><p style="color:red" ng-show="userForm.password2.$dirty && userForm.password.$error.minlength">Passwords must be at least 6 characters.</p ></small>
                        <small><p style="color:red" ng-show="userForm.password2.$dirty && userForm.password.$error.maxlength">Password can not exceed 25 characters.</p></small>
                    </div>

                    <div class="form-group label-floating" ng-class="{ 'has-error' : userForm.password2.$dirty && $ctrl.doPasswordNotMatch()}">
                        <label class="control-label" for="password2">Confirm password <span style="color:red;">*</span></label>
                        <input id="password2" name="password2" type="password" class="form-control" ng-model="$ctrl.passwordRepeat" required>
                        <small><p style="color:red" ng-show="userForm.password2.$dirty && $ctrl.doPasswordNotMatch()">Passwords do not match.</p></small>
                    </div>
                    <p><span style="color:red;">*</span> Fields are required!</p>
                    <div class="form-group">
                        <button id="signupSubmit" type="submit" ng-click="$ctrl.create()" class="btn btn-lg btn-block btn-raised btn-primary" ng-disabled="userForm.$invalid || $ctrl.doPasswordNotMatch()">Create your account</button>
                    </div>
                    <div class="alert alert-danger registration-alert" role="alert" ng-repeat="error in $ctrl.errors">
                        {{error}}
                    </div>
                </form>
            </div>
        </div>
    </div>
</div>
